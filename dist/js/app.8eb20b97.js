(function(t){function e(e){for(var s,c,i=e[0],r=e[1],u=e[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(s=!1)}s&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},o={app:0},a=[];function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=r;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"013b":function(t,e,n){},"102c":function(t,e,n){t.exports=n.p+"img/remove.3b677702.svg"},"34f8":function(t){t.exports=JSON.parse('[{"socialName":"instagram","img":"socialsImage/instagram.svg"},{"socialName":"facebook","img":"socialsImage/facebook.svg"},{"socialName":"pinterest","img":"socialsImage/pinterest.svg"},{"socialName":"vk","img":"socialsImage/vk.svg"},{"socialName":"youtube","img":"socialsImage/youtube.svg"},{"socialName":"tik-tok","img":"socialsImage/tik-tok.svg"},{"socialName":"telegram","img":"socialsImage/telegram.svg"},{"socialName":"twitter","img":"socialsImage/twitter.svg"},{"socialName":"http","img":"socialsImage/http.svg"}]')},"3b46":function(t,e,n){"use strict";n("9f20")},"3c35":function(t,e,n){t.exports=n.p+"img/gear.47eab155.png"},"3e51":function(t,e,n){t.exports=n.p+"img/minus.d9a7efe1.svg"},"47de":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],c=n("2877"),i={},r=Object(c["a"])(i,o,a,!1,null,null,null),u=r.exports,l=n("1dce"),f=n.n(l),p=n("2f62"),m=n("1da1"),d=(n("96cf"),n("260b")),g=(n("ea7b"),n("66ce"),n("741f"),n("588e"),{state:{isInitApp:!1},getters:{isInitApp:function(t){return t.isInitApp}},mutations:{setIsInitApp:function(t,e){t.isInitApp=e}},actions:{initializeApp:function(t){return Object(m["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,s={apiKey:"AIzaSyA0Drenvv254KEwOqJ-d_7-Eo7AUBm-mhI",authDomain:"nfc-belarus.firebaseapp.com",databaseURL:"https://nfc-belarus-default-rtdb.firebaseio.com",projectId:"nfc-belarus",storageBucket:"nfc-belarus.appspot.com",messagingSenderId:"111282253904",appId:Object({NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyA0Drenvv254KEwOqJ-d_7-Eo7AUBm-mhI",VUE_APP_APP_ID:"1:1:111282253904:web:b293e0a9cd59793b836155",VUE_APP_AUTH_DOMAIN:"nfc-belarus.firebaseapp.com",VUE_APP_DATABASE_URL:"https://nfc-belarus-default-rtdb.firebaseio.com",VUE_APP_MEASUREMENT_ID:"G-F63KHF5J16",VUE_APP_MESSAGING_SENDER_ID:"111282253904",VUE_APP_PROJECT_ID:"nfc-belarus",VUE_APP_STORAGE_BUCKET:"nfc-belarus.appspot.com",BASE_URL:"/"}).VUE_APP_APPID},d["a"].initializeApp(s),n("setIsInitApp",!0);case 4:case"end":return e.stop()}}),e)})))()}}}),I=(n("d3b7"),{state:{accountId:null,isInit:null,password:null},getters:{accountId:function(t){return t.accountId},isInit:function(t){return t.isInit},password:function(t){return t.password}},mutations:{setAccountId:function(t,e){t.accountId=e},setIsInit:function(t,e){t.isInit=e},setPassword:function(t,e){t.password=e}},actions:{checkAccount:function(t,e){var n,s=t.commit,o=d["a"].database();return new Promise((function(t,a){o.ref("users/"+e).on("value",(function(o){n=o.val(),n?(s("setAccountId",e),s("setIsInit",n.isInit),s("setPassword",n.password),t(!0)):(s("setAccountId",null),a(!1))}))}))},initAccount:function(t,e){var n=t.commit,s=t.getters;d["a"].database().ref("users/".concat(s.accountId)).update({isInit:e}),n("setIsInit",e)},checkPassword:function(t,e){var n,s=t.dispatch,o=t.getters,a=d["a"].database();return new Promise((function(t,c){a.ref("users/"+o.accountId+"/password").on("value",(function(a){n=a.val(),n===e?(o.isInit||s("initAccount",!0),t(!0)):c(!1)}))}))}}}),b={state:{localLogIn:!1},getters:{localLogIn:function(t){return t.localLogIn}},mutations:{setLocalLogIn:function(t,e){t.localLogIn=e}},actions:{setLocalLogIn:function(t,e){var n=t.commit;n("setLocalLogIn",e)}}},v={state:{userInfo:null},getters:{userInfo:function(t){return t.userInfo}},mutations:{setUserInfo:function(t,e){t.userInfo=e,console.log("setUserInfo",e)}},actions:{getUserInfo:function(t){var e=t.commit,n=t.getters,s=d["a"].database();return new Promise((function(t,o){s.ref("users/"+n.accountId+"/userInfo").on("value",(function(n){console.log("getUserInfo",n.val()),n.val()?(e("setUserInfo",n.val()),t(!0)):(e("setUserInfo",!1),o(!1))}))}))},sendUserInfo:function(t,e){var n=t.commit,s=t.getters;console.log(e),console.log(n,s),d["a"].database().ref("users/".concat(s.accountId,"/userInfo")).update(e).then((function(){n("setUserInfo",e)}))}}};s["a"].use(p["a"]);var _=new p["a"].Store({modules:{init:g,checkAccount:I,localLogIn:b,userInfo:v}}),h=n("8c4f"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Hello from Main ")])},P=[],E={},w=Object(c["a"])(E,A,P,!1,null,null,null),S=w.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"wrapper"},[n("SettingsBlock"),t.userInfo?n("UserInfo",{attrs:{userInfo:t.userInfo}}):n("SorryButNoUserInfo")],1)},k=[],N=n("5530"),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Извините, но этот пользователь не оставил информации о себе")])},L=[],j={},y=Object(c["a"])(j,U,L,!1,null,null,null),x=y.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("ButtonToOpenSettings",{on:{bearsClick:function(e){t.isSettings=!t.isSettings}}}),n("div",{class:{"visible-settings":t.isSettings,"settings-box":!0}},[n("h2",[t._v("Settings")]),t.localLogIn?n("Settings"):n("Registration")],1)],1)},C=[],V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gears-button",on:{click:function(e){return t.$emit("bearsClick")}}},[s("img",{staticClass:"gear1",attrs:{src:n("3c35"),alt:"gear"}}),s("img",{staticClass:"gear2",attrs:{src:n("3c35"),alt:"gear"}}),s("img",{staticClass:"gear3",attrs:{src:n("3c35"),alt:"gear"}})])},B=[],T=(n("3b46"),{}),R=Object(c["a"])(T,V,B,!1,null,"bdfa4ab6",null),$=R.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",[s("div",{staticClass:"name"},[s("label",{attrs:{for:"firstName"}},[s("span",[t._v("Имя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfoLocal.firstName,expression:"userInfoLocal.firstName"}],attrs:{type:"text",autocomplete:"off",id:"firstName"},domProps:{value:t.userInfoLocal.firstName},on:{input:function(e){e.target.composing||t.$set(t.userInfoLocal,"firstName",e.target.value)}}})]),s("label",{attrs:{for:"secondName"}},[s("span",[t._v("Фамилия")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfoLocal.secondName,expression:"userInfoLocal.secondName"}],attrs:{type:"text",autocomplete:"off",id:"secondName"},domProps:{value:t.userInfoLocal.secondName},on:{input:function(e){e.target.composing||t.$set(t.userInfoLocal,"secondName",e.target.value)}}})])]),s("div",{staticClass:"social"},[t.inputSocialLink?t._e():s("span",{staticClass:"social-add",on:{click:function(e){t.showSocial=!t.showSocial}}},[t.showSocial?s("img",{attrs:{src:n("3e51"),alt:"remove"}}):s("img",{attrs:{src:n("aeb7"),alt:"add"}})]),s("div",{class:{"social-list":!0,"social-list-active":t.showSocial}},t._l(t.socialsData,(function(e){var n;return s("img",{key:e.socialName,class:(n={},n[e.socialName]=1,n["social-el"]=1,n),attrs:{src:t.returnImg(e.img),alt:e.socialName},on:{click:function(n){return t.addSocial(e.socialName)}}})})),0)]),s("div",t._l(t.userInfoLocal.socials,(function(e,o){return s("div",{key:e.social,staticClass:"added-social"},[s("img",{attrs:{src:t.returnImg("socialsImage/"+e.social+".svg"),alt:"",width:"40px"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"social.link"}],attrs:{type:"text",autocomplete:"off",placeholder:"Добавьте ссылку"},domProps:{value:e.link},on:{input:function(n){n.target.composing||t.$set(e,"link",n.target.value)}}}),s("img",{staticClass:"basket",attrs:{src:n("102c"),alt:"",width:"23px"},on:{mouseenter:t.shakeBasket,click:function(e){return t.removeElFromSocials(o)}}})])})),0),s("button",{on:{click:function(e){return e.preventDefault(),t.submitInfo.apply(null,arguments)}}},[t._v("Сохранить")])])},J=[],K=(n("a434"),n("b5ae")),G=n("34f8"),z={validations:{userInfoLocal:{firstName:{alpha:K["alpha"]},secondName:{alpha:K["alpha"]}}},data:function(){return{userInfoLocal:{firstName:null,secondName:null,socials:[]},showSocial:!1,inputSocialLink:!1,currentSocialImg:null,socialsData:null}},mounted:function(){this.socialsData=G,this.userInfoLocal=this.userInfo,console.log("this.userInfo",this.userInfo)},computed:Object(N["a"])({},Object(p["c"])(["userInfo"])),methods:Object(N["a"])(Object(N["a"])({},Object(p["b"])(["sendUserInfo"])),{},{submitInfo:function(){console.log(this.userInfoLocal),this.sendUserInfo(this.userInfoLocal)},returnImg:function(t){return t},addSocial:function(t){this.showSocial=!1,this.userInfoLocal.socials.push({social:t})},shakeBasket:function(t){t.target.classList.add("shake-basket"),setTimeout((function(){t.target.classList.remove("shake-basket")}),400)},removeElFromSocials:function(t){this.userInfoLocal.socials.splice(t,1)}})},F=z,H=(n("d1e2"),Object(c["a"])(F,M,J,!1,null,"29d7293c",null)),q=H.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"password-box"},[n("div",{staticClass:"password-popup"},[n("h2",[t._v("Log in to our platform")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:t.callCheckPasswordAction}},[t._v("Sign in")])])])},Q=[],W={data:function(){return{password:null}},methods:Object(N["a"])(Object(N["a"])({},Object(p["b"])(["setLocalLogIn","checkPassword"])),{},{callCheckPasswordAction:function(){var t=this;this.checkPassword(this.password).then((function(){t.setLocalLogIn(!0)})).catch((function(){}))}})},X=W,Z=(n("cc74"),Object(c["a"])(X,Y,Q,!1,null,"612f9603",null)),tt=Z.exports,et={data:function(){return{isSettings:!1}},computed:Object(N["a"])({},Object(p["c"])(["localLogIn"])),components:{ButtonToOpenSettings:$,Registration:tt,Settings:q}},nt=et,st=(n("6d1d"),Object(c["a"])(nt,D,C,!1,null,"5da1a464",null)),ot=st.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"mainInfo"},[n("span",[t._v(t._s(t.userInfo.firstName)+" ")]),n("span",[t._v(t._s(t.userInfo.secondName))])]),n("div",{staticClass:"socials"},t._l(t.userInfo.socials,(function(e,s){return n("a",{key:e.social+s,attrs:{href:e.link}},[n("img",{staticClass:"social-img",attrs:{src:t.returnImg("socialsImage/"+e.social+".svg"),alt:"social"}})])})),0)])},ct=[],it={props:["userInfo"],methods:{returnImg:function(t){return t}}},rt=it,ut=(n("ba1c"),Object(c["a"])(rt,at,ct,!1,null,"53f04593",null)),lt=ut.exports,ft={methods:Object(N["a"])({},Object(p["b"])(["getUserInfo"])),computed:Object(N["a"])({},Object(p["c"])(["userInfo"])),mounted:function(){this.getUserInfo(this.$route.params.id)},components:{SorryButNoUserInfo:x,SettingsBlock:ot,UserInfo:lt}},pt=ft,mt=Object(c["a"])(pt,O,k,!1,null,null,null),dt=mt.exports;s["a"].use(h["a"]);var gt=new h["a"]({mode:"hash",routes:[{name:"main",path:"/",component:S},{name:"user",path:"/:id",component:dt,beforeEnter:function(t,e,n){_.dispatch("checkAccount",t.params.id).then((function(){n()})).catch((function(){n("/")}))}}]}),It=gt;n("927c");s["a"].config.productionTip=!1,s["a"].use(f.a),console.log(Object({NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyA0Drenvv254KEwOqJ-d_7-Eo7AUBm-mhI",VUE_APP_APP_ID:"1:1:111282253904:web:b293e0a9cd59793b836155",VUE_APP_AUTH_DOMAIN:"nfc-belarus.firebaseapp.com",VUE_APP_DATABASE_URL:"https://nfc-belarus-default-rtdb.firebaseio.com",VUE_APP_MEASUREMENT_ID:"G-F63KHF5J16",VUE_APP_MESSAGING_SENDER_ID:"111282253904",VUE_APP_PROJECT_ID:"nfc-belarus",VUE_APP_STORAGE_BUCKET:"nfc-belarus.appspot.com",BASE_URL:"/"})),_.dispatch("initializeApp").then((function(){new s["a"]({store:_,router:It,render:function(t){return t(u)}}).$mount("#app")}))},"5b5a":function(t,e,n){},"6d1d":function(t,e,n){"use strict";n("5b5a")},"927c":function(t,e,n){},"9f20":function(t,e,n){},aeb7:function(t,e,n){t.exports=n.p+"img/plus.e220b97e.svg"},ba1c:function(t,e,n){"use strict";n("47de")},bc0b:function(t,e,n){},cc74:function(t,e,n){"use strict";n("013b")},d1e2:function(t,e,n){"use strict";n("bc0b")}});
//# sourceMappingURL=app.8eb20b97.js.map